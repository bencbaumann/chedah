<!DOCTYPE html>
<html>
  <head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json">
  <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico">
  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
  <title>React Reading List</title>
</head>

<body>
  <noscript>
    You need to enable JavaScript to run this app.
  </noscript>
  
  <!-- This should move to the dashboard page -->
  <div id="container">
    <button id="link-btn">Link Account</button>
  </div>
  

  <div id="root"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <!-- Compiled and minified JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
  <script src="https://cdn.plaid.com/link/v2/stable/link-initialize.js"></script>
  <script>
    (function($) {
      var handler = Plaid.create({
        apiVersion: 'v2',
        clientName: 'Plaid Walkthrough Demo',
        env: 'sandbox',
        product: ['transactions'],
        key: '1d68b777ea259a9dedc5cfb9510428',
        onSuccess: function(public_token) {
          $.post('/api/plaid/get_access_token', {
            public_token: public_token
          }, function(response) {
            console.log(response)
            $('#container').fadeOut('fast', function() {
              $('#intro').hide();
              $('#app, #steps').fadeIn('slow');
            });
          });
        },
      });
  
      $('#link-btn').on('click', function(e) {
        handler.open();
      });      
    })(jQuery);
    </script>
</body>

</html>